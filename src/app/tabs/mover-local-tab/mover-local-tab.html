<std-header [title]="{text: 'Movimentação total'}"></std-header>
<ion-content [fullscreen]="true">

  <ion-card mode="ios" class="ion-activatable ripple-parent card-content" id="local-origem-modal">
    <ion-ripple-effect></ion-ripple-effect>
    <ion-item lines="none" class="item-content">
      <ion-icon slot="start" name="file-tray-full-outline" color="dark"></ion-icon>
      <ion-label class="lbl">
        <p class="lbl">Local de Origem</p>
        <p *ngIf="!this.selectedLocalOrigem" class="sub-title">Escolha o local de Origem</p>
        <div *ngIf="this.selectedLocalOrigem">
          <span class="selected">{{ this.selectedLocalOrigem.nome }}</span>
          <br>
          <span class="selected">{{ this.selectedLocalOrigem.idLocal }}</span>
          <br>
          <span class="selected">Itens: {{ this.quantidadeTagsLocalOrigem }}</span>
        </div>
      </ion-label>
      <ion-icon slot="end" name="create-outline" color="dark"></ion-icon>
    </ion-item>
  </ion-card>

  <ion-modal trigger="local-origem-modal" (willDismiss)="onModalDismiss($event,'origem')">
    <ng-template>
      <app-seleciona-local-modal></app-seleciona-local-modal>
    </ng-template>
  </ion-modal>

  <ion-card mode="ios" class="ion-activatable ripple-parent card-content" id="local-destino-modal">
    <ion-ripple-effect></ion-ripple-effect>
    <ion-item lines="none" class="item-content">
      <ion-icon slot="start" name="file-tray-full-outline" color="dark"></ion-icon>
      <ion-label class="lbl">
        <p class="lbl">Local de Destino</p>
        <p *ngIf="!this.selectedLocalDestino" class="sub-title">Escolha o local de Destino</p>
        <div *ngIf="this.selectedLocalDestino">
          <span class="selected">{{ this.selectedLocalDestino.nome }}</span>
          <br>
          <span class="selected">{{ this.selectedLocalDestino.idLocal }}</span>
          <br>
          <span class="selected">Itens: {{ this.quantidadeTagsLocalDestino }}</span>
        </div>
      </ion-label>
      <ion-icon slot="end" name="create-outline" color="dark"></ion-icon>
    </ion-item>
  </ion-card>

  <ion-modal trigger="local-destino-modal" (willDismiss)="onModalDismiss($event,'destino')">
    <ng-template>
      <app-seleciona-local-modal></app-seleciona-local-modal>
    </ng-template>
  </ion-modal>


  <ion-card mode="ios" class="ion-activatable ripple-parent card-content" id="tipo-movimento-modal">
    <ion-ripple-effect></ion-ripple-effect>
    <ion-item lines="none" class="item-content">
      <ion-icon slot="start" name="swap-horizontal-outline" color="dark"></ion-icon>
      <ion-label class="lbl">
        <p class="lbl">Tipo de movimentação</p>
        <p *ngIf="!this.selectedTipoMovimentacao" class="sub-title">Escolha o Tipo de Movimentação</p>
        <div *ngIf="this.selectedTipoMovimentacao">
          <span class="selected">{{ this.selectedTipoMovimentacao.nome }}</span>
        </div>
      </ion-label>
      <ion-icon slot="end" name="create-outline" color="dark"></ion-icon>
    </ion-item>
  </ion-card>

  <ion-modal trigger="tipo-movimento-modal" (willDismiss)="onModalDismiss($event,'movimento')">
    <ng-template>
      <app-tipo-movimento-modal></app-tipo-movimento-modal>
    </ng-template>
  </ion-modal>


  <ion-button id="present-alert"
    *ngIf="selectedLocalOrigem && selectedLocalDestino && selectedTipoMovimentacao"
    class="btn" type="submit"
    expand="block" fill="solid"
    color="primary" (click)="setOpen(true)">
    <ion-icon name="navigate-outline"></ion-icon>
    Movimentar
  </ion-button>

  <ion-alert
    [isOpen]="isAlertOpen"
    header="Movimentação Total"
    subHeader="Deseja continuar?"
    [message]="message"
    [buttons]="alertButtons"
    (didDismiss)="setOpen(false)"
  ></ion-alert>

</ion-content>
